(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(8),o=a.n(r),l=(a(15),a(1)),i=a(2),c=a(4),m=a(3),u=a(5),d=(a(16),a(6)),p=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).NewTask=function(e){var t=e.target,n=t.value,s=t.name;a.setState(Object(d.a)({},s,n))},a.onSubmit=function(e){e.preventDefault(),a.props.onSubmit(a.state),a.onClearForm()},a.onCloseForm=function(){a.props.onCloseForm()},a.onClearForm=function(){a.setState({name:"",status:1})},a.state={id:"",name:"",status:1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.taskUpdate&&this.setState({id:this.props.taskUpdate.id,name:this.props.taskUpdate.name,status:this.props.taskUpdate.status})}},{key:"componentWillReceiveProps",value:function(e){e&&e.taskUpdate?this.setState({id:e.taskUpdate.id,name:e.taskUpdate.name,status:e.taskUpdate.status}):e.taskUpdate||this.setState({id:"",name:"",status:1})}},{key:"render",value:function(){var e=this.state.id;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"col-sm-4 "},s.a.createElement("div",{className:"card bg-light mb-3"},s.a.createElement("div",{className:"card-header"},""!==e?"Update Job":"Add new job",s.a.createElement("button",{onClick:this.onCloseForm,className:"btn btn-sm btn-danger fa fa-remove float-right"})),s.a.createElement("div",{className:"card-body"},s.a.createElement("form",{onSubmit:this.onSubmit},s.a.createElement("div",{className:"form-row"},s.a.createElement("div",{className:"form-group col-sm-12 text-left"},s.a.createElement("label",{htmlFor:"inputEmail4"},"Name"),s.a.createElement("input",{name:"name",type:"text",className:"form-control",id:"inputEmail4",placeholder:"Name",value:this.state.name,onChange:this.NewTask})),s.a.createElement("div",{className:"form-group col-sm-12 text-left"},s.a.createElement("label",{htmlFor:"inputState"},"Process"),s.a.createElement("select",{id:"inputState",className:"form-control",name:"status",value:this.state.status,onChange:this.NewTask},s.a.createElement("option",{value:1},"Finish"),s.a.createElement("option",{value:2},"Ongoing"),s.a.createElement("option",{value:3},"Unmake")))),s.a.createElement("button",{type:"submit",className:"btn btn-success ml-1 mr-1"},"Save Job"),s.a.createElement("button",{type:"reset",className:"btn btn-danger ml-1 mr-1",onClick:this.onClearForm},"Cancel"))))))}}]),t}(n.Component),h=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).sortName=function(e,t){a.props.onSort(e,t)},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){console.log(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.sortBy,n=t.sortValue;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"dropdown float-left mr-1 ml-1"},s.a.createElement("button",{className:"btn btn-info dropdown-toggle",type:"button",id:"dropdownMenu2","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Sort"),s.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenu2"},s.a.createElement("button",{className:"name"===a&&1===n?"dropdown-item fa fa-check mr-2":"dropdown-item",type:"button",onClick:function(){return e.sortName("name",1)}}," Name to ",s.a.createElement("i",{className:"fa fa-sort-alpha-asc"})),s.a.createElement("button",{className:"name"===a&&-1===n?"dropdown-item fa fa-check mr-2":"dropdown-item",type:"button",onClick:function(){return e.sortName("name",-1)}}," Name to ",s.a.createElement("i",{className:"fa fa-sort-alpha-desc"})))))}}]),t}(n.Component),f=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e)))._handleChange=function(e){var t=e.target,n=t.value,s=t.name;a.setState(Object(d.a)({},s,n))},a.onSearch=function(){a.props.onSearch(a.state.keyword)},a.state={keyword:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.keyword;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"form-inline my-2 my-lg-0"},s.a.createElement("input",{className:"form-control mr-sm-2",type:"search",placeholder:"Search","aria-label":"Search",name:"keyword",value:e,onChange:this._handleChange}),s.a.createElement("button",{className:"btn btn-outline-info my-2 my-sm-0",type:"submit",onClick:this.onSearch},"Search")))}}]),t}(n.Component),b=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"float-right"},s.a.createElement(h,{onSort:this.props.onSort,sortBy:this.props.sortBy,sortValue:this.props.sortValue}),s.a.createElement(f,{onSearch:this.props.onSearch})))}}]),t}(n.Component),E=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).lable=function(){var e=a.props.item;return 1===e.status?"btn btn-sm btn-success":2===e.status?"btn btn-sm btn-info":3===e.status?"btn btn-sm btn-warning":void 0},a.statusItem=function(){var e=a.props.item;return 1===e.status?"Finish":2===e.status?"Ongoing":3===e.status?"Unmake":void 0},a.onDelete=function(){a.props.onDelete(a.props.item.id)},a.onUpdate=function(){a.props.onUpdate(a.props.item.id)},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.item,a=e.index;return t.status=+t.status,s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",null,s.a.createElement("td",null,a+1," "),s.a.createElement("td",null,t.name),s.a.createElement("td",null,s.a.createElement("span",{className:this.lable()}," ",this.statusItem()," ")),s.a.createElement("td",null,s.a.createElement("div",{className:"btn-group"},s.a.createElement("button",{className:"btn btn-sm btn-warning",onClick:this.onUpdate},s.a.createElement("i",{className:"fa fa-pencil"})),s.a.createElement("button",{className:"btn btn-sm btn-danger",onClick:this.onDelete},s.a.createElement("i",{className:"fa fa-remove"}))))))}}]),t}(n.Component),v=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e)))._handleChange=function(e){var t=e.target,n=t.value,s=t.name,r=a.state,o=r.filterName,l=r.filterStatus;a.props.onFilter("filterName"===s?n:o,"filterStatus"===s?n:l),a.setState(Object(d.a)({},s,n))},a.state={filterName:"",filterStatus:-1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.tasks,a=this.state,n=a.filterName,r=a.filterStatus,o=t.map(function(t,a){return s.a.createElement(E,{key:t.id,index:a,item:t,onDelete:e.props.onDelete,onUpdate:e.props.onUpdate})});return s.a.createElement(s.a.Fragment,null,s.a.createElement("table",{id:"example",className:"table table-striped table-bordered",style:{width:"100%"}},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Index"),s.a.createElement("th",null,"Name"),s.a.createElement("th",null,"Status"),s.a.createElement("th",null,"Action"))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null),s.a.createElement("td",null,s.a.createElement("input",{type:"text",className:"form-control",id:"inputEmail4",placeholder:"Name",name:"filterName",value:n,onChange:this._handleChange})),s.a.createElement("td",null,s.a.createElement("select",{id:"inputState",className:"form-control",name:"filterStatus",value:r,onChange:this._handleChange},s.a.createElement("option",{value:-1},"All"),s.a.createElement("option",{value:1},"Finish"),s.a.createElement("option",{value:2},"Ongoing"),s.a.createElement("option",{value:3},"Unmake"))),s.a.createElement("td",null)),o),s.a.createElement("tfoot",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Index"),s.a.createElement("th",null,"Name"),s.a.createElement("th",null,"Status"),s.a.createElement("th",null,"Action")))))}}]),t}(n.Component),g=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e)))._ToggleNewTask=function(){var e=a.state,t=e.isDisplayForm,n=e.taskEditing;t&&null!==n?a.setState({isDisplayForm:!0,taskEditing:null}):a.setState({isDisplayForm:!t,taskEditing:null})},a.onCloseForm=function(){var e=a.state.isDisplayForm;a.setState({isDisplayForm:!e})},a.onShowForm=function(){a.state.isDisplayForm;a.setState({isDisplayForm:!0})},a.onSubmit=function(e){var t=a.state.tasks;e.id?t[a.findIndexById(e.id)]=e:(e.id=a.generateId(),t=t.concat(e));a.setState({tasks:t,taskEditing:null}),console.log(t),localStorage.setItem("tasks",JSON.stringify(t))},a.findIndexById=function(e){var t=a.state.tasks,n=-1;return t.forEach(function(t,a){t.id===e&&(n=a)}),n},a.onDelete=function(e){var t=a.state.tasks,n=t.find(function(t){return Object.is(e,t.id)}).id;-1!==n&&(t.splice(n,1),a.setState({tasks:t,isDisplayForm:!1}),localStorage.setItem("tasks",JSON.stringify(t)))},a.onUpdate=function(e){var t=a.state.tasks[a.findIndexById(e)];console.log(t),a.setState({taskEditing:t}),a.onShowForm()},a.onFilter=function(e,t){console.log(e,"-",t),t=+t,a.setState({filter:{name:e.toLowerCase(),status:t}})},a.onSearch=function(e){a.setState({keyword:e})},a.onSort=function(e,t){a.setState({sortBy:e,sortValue:t})},a.state={tasks:[],isDisplayForm:!1,taskEditing:null,filter:{name:"",status:-1},keyword:"",sortBy:"name",sortValue:-1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){if(localStorage&&localStorage.getItem("tasks")){var e=JSON.parse(localStorage.getItem("tasks"));this.setState({tasks:e})}}},{key:"s4",value:function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}},{key:"generateId",value:function(){return this.s4()+this.s4()+this.s4()+this.s4()+this.s4()+this.s4()+this.s4()+this.s4()}},{key:"render",value:function(){var e=this.state,t=e.tasks,a=e.isDisplayForm,n=e.taskEditing,r=e.filter,o=e.keyword,l=e.sortBy,i=e.sortValue;r&&(r.name&&(t=t.filter(function(e){return-1!==e.name.toLowerCase().indexOf(r.name)})),t=t.filter(function(e){return-1===r.status?e:e.status===r.status})),o&&(t=t.filter(function(e){return-1!==e.name.toLowerCase().indexOf(o)})),"name"===l&&t.sort(function(e,t){return e.name>t.name?i:e.name<t.name?-i:0});var c=a?s.a.createElement(p,{onSubmit:this.onSubmit,onCloseForm:this.onCloseForm,taskUpdate:n}):"";return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12 mt-3 mb-3 text-sm-center mx-auto"},s.a.createElement("h2",null,"TODO JOB"))),s.a.createElement("div",{className:"row"},c,s.a.createElement("div",{className:"col"},s.a.createElement("button",{onClick:this._ToggleNewTask,className:"btn btn-success mb-2 float-left"},"Add new Job ",s.a.createElement("i",{className:"fa fa-plus ml-1 mr-1"})),s.a.createElement(b,{onSearch:this.onSearch,onSort:this.onSort,sortBy:l,sortValue:i}),s.a.createElement("div",{className:"tabledata"},s.a.createElement(v,{tasks:t,onDelete:this.onDelete,onUpdate:this.onUpdate,onFilter:this.onFilter}))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.c7b3607a.chunk.js.map